(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,n){e.exports=n("56d7")},"0f9a":function(e,t,n){"use strict";n.r(t);var r=n("1da1"),a=(n("96cf"),n("ac1f"),n("1276"),n("d3b7"),n("c24f")),c=n("cc33"),u=n("e762"),o=function(){return{token:Object(c["a"])(),id:0,real_name:"",mobile:"",sub:"",email:"",nike_name:"",avatar:"",exp:0}};function i(e){if(!e)return{id:0};var t=e.split(".");return JSON.parse(u["a"].decode(t[1]))}var s=o(),d={RESET_STATE:function(e){Object.assign(e,o())},SET_TOKEN:function(e,t){e.token=t,Object.assign(e,i(e.token))},SET_USER_INFO:function(e,t){Object.assign(e,i(e.token)),e.id=t.id,e.real_name=t.real_name,e.email=t.email,e.mobile=t.mobile,e.nike_name=t.nike_name,e.avatar=t.avatar}},m={login:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,u,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,u=e.dispatch,n.prev=1,n.next=4,Object(a["e"])(t);case 4:return o=n.sent,r("SET_TOKEN",o.data.access_token),Object(c["c"])(o.data.access_token),n.next=9,u("getUserInfo");case 9:return n.abrupt("return",Promise.resolve());case 12:return n.prev=12,n.t0=n["catch"](1),n.abrupt("return",Promise.reject(n.t0));case 15:case"end":return n.stop()}}),n,null,[[1,12]])})))()},getUserInfo:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(a["d"])();case 4:return r=t.sent,n("SET_USER_INFO",r.data),t.abrupt("return",Promise.resolve());case 9:return t.prev=9,t.t0=t["catch"](1),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},logout:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,Object(c["b"])(),n("RESET_STATE"),t.abrupt("return",Promise.resolve());case 4:case"end":return t.stop()}}),t)})))()},resetToken:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,Object(c["b"])(),n("RESET_STATE"),t.abrupt("return",Promise.resolve());case 4:case"end":return t.stop()}}),t)})))()}};t["default"]={namespaced:!0,state:s,mutations:d,actions:m}},2166:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return o}));var r=n("b775");function a(){return Object(r["a"])({url:"/cartList",method:"get"})}function c(e){return Object(r["a"])({url:"/addCart",method:"post",data:e})}function u(e,t,n){return Object(r["a"])({url:"/updateCartNum/"+e+"/"+t+"/"+n,method:"put"})}function o(e,t){return Object(r["a"])({url:"/deleteCart/"+e+"/"+t,method:"delete"})}},"259b":function(e,t){e.exports={title:"mi",baseUrl:"http//localhost:8088/",baseApi:"/"}},"25bd":function(e,t,n){},4360:function(e,t,n){"use strict";n("d3b7"),n("ddb0"),n("ac1f"),n("5319");var r=n("2b0e"),a=n("2f62"),c={user:function(e){return e.user},cart:function(e){return e.cart},product:function(e){return e.product}},u=c;r["default"].use(a["a"]);var o=n("c653"),i=o.keys().reduce((function(e,t){var n=t.replace(/^\.\/(.*)\.\w+$/,"$1"),r=o(t);return e[n]=r.default,e}),{}),s=new a["a"].Store({modules:i,getters:u});t["a"]=s},"458f":function(e,t,n){},"499b":function(e,t,n){"use strict";n.r(t);var r=n("1da1"),a=(n("96cf"),n("a434"),n("d3b7"),n("2166")),c={id:"",cart_item:[],uid:"",isCheckAll:"",checkGoods:[],count:0},u={SET_COUNT:function(e){var t=0;if(null!=e.cart_item){for(var n=0;n<e.cart_item.length;n++)t++;e.count=t}},INIT_CART:function(e){e.id="",e.cart_item=[],e.count=0,e.checkGoods=[]},SET_CART:function(e,t){Object.assign(e,t)},SET_CHECK_GOODS:function(e,t){e.checkGoods=t},CHECK_ALL:function(e,t){for(var n=0;n<e.cart_item.length;n++)e.cart_item[n].product.is_checked=t},UPDATE_CART:function(e,t){if("check"==t.prop&&(e.cart_item[t.key].product.is_checked=t.val),"num"==t.prop){if(e.cart_item[t.key].product.inventory<t.val)return;if(t.val<1)return}e.cart_item[t.key][t.prop]=t.val},DELETE_CART:function(e,t){for(var n=0;n<e.cart_item.length;n++){var r=e.cart_item[n];r.product.id==t&&e.cart_item.splice(n,1)}}},o={getCartList:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.dispatch,t.prev=1,t.next=4,Object(a["c"])();case 4:return c=t.sent,n("SET_CART",c.data),r("setCount"),t.abrupt("return",Promise.resolve());case 10:return t.prev=10,t.t0=t["catch"](1),t.abrupt("return",Promise.reject(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},checkAll:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,r("CHECK_ALL",t);case 2:case"end":return n.stop()}}),n)})))()},updateCart:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,r("UPDATE_CART",t);case 2:case"end":return n.stop()}}),n)})))()},setCheckGoods:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,r("SET_CHECK_GOODS",t);case 2:case"end":return n.stop()}}),n)})))()},deleteCart:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,r("DELETE_CART",t);case 2:case"end":return n.stop()}}),n)})))()},setCount:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,n("SET_COUNT");case 2:case"end":return t.stop()}}),t)})))()},initCart:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,n("INIT_CART");case 2:case"end":return t.stop()}}),t)})))()}};t["default"]={namespaced:!0,state:c,mutations:u,actions:o}},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("1da1"),a=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("96cf"),n("2b0e")),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},u=[],o={name:"App",components:{},computed:{},created:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},i=o,s=(n("5c0b"),n("2877")),d=Object(s["a"])(i,c,u,!1,null,null,null),m=d.exports,f=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f"));a["default"].use(f["a"]);var l=f["a"].prototype.push;f["a"].prototype.push=function(e){return l.call(this,e).catch((function(e){return e}))};var p=new f["a"]({routes:[{path:"/",name:"home",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-0a66814c")]).then(n.bind(null,"eea6"))},redirect:"index",children:[{path:"index",name:"index",component:function(){return Promise.all([n.e("chunk-260ef2ca"),n.e("chunk-f43c68b4")]).then(n.bind(null,"9261"))}},{path:"detail",name:"detail",component:function(){return Promise.all([n.e("chunk-260ef2ca"),n.e("chunk-72430147")]).then(n.bind(null,"afa2"))}},{path:"addCartSuccess",name:"addCartSuccess",component:function(){return n.e("chunk-2243db2f").then(n.bind(null,"f6b9"))}},{path:"cate",name:"cate",component:function(){return n.e("chunk-635908f3").then(n.bind(null,"9923"))}},{path:"self",name:"self",component:function(){return n.e("chunk-ce343aa2").then(n.bind(null,"3d6b"))},children:[{path:"userInfo",name:"userInfo",component:function(){return n.e("chunk-07ecd2be").then(n.bind(null,"dac6"))}},{path:"account",name:"Account",component:function(){return Promise.all([n.e("chunk-9585b3a6"),n.e("chunk-3841b669")]).then(n.bind(null,"4c16"))}},{path:"favourite",name:"Favourite",component:function(){return n.e("chunk-403f00f0").then(n.bind(null,"3185"))}},{path:"address",name:"Address",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-1c803f5a"),n.e("chunk-a71c3bac")]).then(n.bind(null,"4064"))}}]}]},{path:"/order",name:"order",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-7314fa0d")]).then(n.bind(null,"2a62"))},redirect:"orderComfirm",children:[{path:"orderComfirm",name:"orderComfirm",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-7a36958d"),n.e("chunk-1c803f5a"),n.e("chunk-547595ea")]).then(n.bind(null,"bfd7"))}},{path:"orderSuccess",name:"orderSuccess",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-356d47a2")]).then(n.bind(null,"8ecb"))}},{path:"orderList",name:"orderList",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-18144116")]).then(n.bind(null,"c56b"))}}]},{path:"/cart",name:"cart",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-edeb1658")]).then(n.bind(null,"7cb1"))}},{path:"/validate/email",name:"validateEmail",component:function(){return n.e("chunk-284c4d7e").then(n.bind(null,"3d1b"))}},{path:"/login",name:"login",component:function(){return n.e("chunk-449a1106").then(n.bind(null,"c6f7"))}},{path:"/register",name:"register",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-2d687414")]).then(n.bind(null,"3ae4"))},children:[{path:"identify",name:"identify",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-2f2ec6a0")]).then(n.bind(null,"392e"))}},{path:"setPwd",name:"registerPwd",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-7ed9125d")]).then(n.bind(null,"1a8e"))}}]},{path:"/restPassword",name:"restPassword",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-9e1c1962")]).then(n.bind(null,"51c7"))}},{path:"/restPasswordSms",name:"restPasswordSms",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-43c87729")]).then(n.bind(null,"3d87"))}},{path:"/setPassword",name:"setRestPassword",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-e81e4f46")]).then(n.bind(null,"8499"))}},{path:"/orderPay",name:"orderPay",component:function(){return n.e("chunk-2d0d36a9").then(n.bind(null,"5d59"))}}],scrollBehavior:function(){return{x:0,y:0}}}),h=p,b=n("caf9"),g=n("4360"),v=n("323e"),k=n.n(v),O=(n("25bd"),n("5c96")),w=n.n(O),j=(n("0fae"),n("cc33"));a["default"].use(w.a),k.a.configure({easing:"ease",speed:500,showSpinner:!1,trickleSpeed:200,minimum:.3});var x=["/","/index","/login","/register","/register/identify","/register/setPwd","/detail","/cate","/restPassword","/restPasswordSms","/setPassword","/validate/email"];h.beforeEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(k.a.start(),a=Object(j["a"])(),!a){e.next=20;break}if("/login"!==t.path){e.next=8;break}r({path:"/index"}),k.a.done(),e.next=18;break;case 8:if(0!=g["a"].getters.user.id){e.next=11;break}return e.next=11,g["a"].dispatch("user/getUserInfo");case 11:if(0!=g["a"].getters.user.id){e.next=17;break}return e.next=14,g["a"].dispatch("user/resetToken");case 14:return r("/login"),k.a.done(),e.abrupt("return");case 17:r();case 18:e.next=28;break;case 20:if(-1===x.indexOf(t.path)){e.next=24;break}r(),e.next=28;break;case 24:return Object(O["Message"])({message:"请登录之后再操作",type:"warning",duration:5e3}),r("/index"),k.a.done(),e.abrupt("return");case 28:r();case 29:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),h.afterEach((function(){k.a.done()})),a["default"].use(b["a"],{loading:"/imgs/loading-svg/placeholder-220.png"}),a["default"].config.productionTip=!1,new a["default"]({router:h,store:g["a"],render:function(e){return e(m)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var r=n("458f"),a=n.n(r);a.a},7609:function(e,t,n){var r={"./env.development":"259b","./env.development.js":"259b","./env.production":"f1e0","./env.production.js":"f1e0","./env.staging":"e101","./env.staging.js":"e101"};function a(e){var t=c(e);return n(t)}function c(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id="7609"},b775:function(e,t,n){"use strict";var r=n("1da1"),a=(n("96cf"),n("a434"),n("2ca0"),n("d3b7"),n("bc3a")),c=n.n(a),u=n("4360"),o=n("cc33"),i=n("5c96"),s=n("f121"),d=c.a.create({baseURL:s["baseApi"],timeout:5e3}),m=[],f=[],l=function(e,t){var n=t.data,r=t.params,a=t.intercept,c=t.method;if(m.length>1&&2!==a)if(1===a)for(var u=m.length-2;u>=0;u--)m[u].url==="".concat(e)&&(f[u](),f.splice(u,1),m.splice(u,1));else for(var o=m.length-1,i=m.length-2;i>=0;i--){if(m[i].url==="".concat(e)&&m[i].data===JSON.stringify(n)&&"post"===c){console.log("post",m[i].url),f[o](),f.pop(),m.pop();break}m[i].url==="".concat(e)&&m[i].params===JSON.stringify(r)&&"get"===c&&(console.log("get",m[i].url),f[o](),f.pop(),m.pop())}},p=function(e){for(var t=e.url,n=e.data,r=m.length-1;r>=0;r--)if(m[r].url===t&&m[r].data===n){m.splice(r,1),f.splice(r,1);break}};d.interceptors.request.use((function(e){var t=Object(o["a"])("access_token");t&&(e.headers["Authorization"]=t),e["cancelToken"]=new c.a.CancelToken((function(e){f.push(e)}));var n=e.url.startsWith("/")?"":"/";return n+=e.url,m.push({url:"".concat(n),data:JSON.stringify(e.data),params:e.params,method:e.method}),l(n,e),e}),(function(e){return Promise.reject(e)})),d.interceptors.response.use((function(e){setTimeout((function(){p(e.config)}),1e3);var t=e.data;return 200!==t.status?(Object(i["Message"])({message:t.msg,type:"error",duration:5e3}),Promise.reject(t.msg)):t}),function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.response,e.t0=n.status,e.next=500===e.t0?4:403===e.t0?6:401===e.t0?8:400===e.t0?14:16;break;case 4:return Object(i["Message"])({message:"系统错误",type:"error",duration:5e3}),e.abrupt("break",18);case 6:return Object(i["Message"])({message:"没有权限",type:"error",duration:5e3}),e.abrupt("break",18);case 8:return e.next=10,i["MessageBox"].confirm("请登陆后再操作","权限不足",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 10:return e.next=12,u["a"].dispatch("user/resetToken");case 12:return location.reload(),e.abrupt("break",18);case 14:return Object(i["Message"])({message:n.data.msg,type:"error",duration:5e3}),e.abrupt("break",18);case 16:return Object(i["Message"])({message:"未知错误",type:"error",duration:5e3}),e.abrupt("break",18);case 18:return c.a.isCancel(t)&&console.log("打断请求成功",t),e.abrupt("return",Promise.reject(t));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t["a"]=d},c24f:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"h",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"i",(function(){return l}));var r=n("b775");function a(e){return Object(r["a"])({url:"/login",method:"post",data:e})}function c(){return Object(r["a"])({url:"/userInfo",method:"get"})}function u(e){return Object(r["a"])({url:"/logout",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/sendSms",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/checkCode",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/singUpByMobile",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/forgetPassword",method:"put",data:e})}function m(e){return Object(r["a"])({url:"/bindEmail",method:"post",data:e})}function f(e){return Object(r["a"])({url:"/validate/email",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/updateUser",method:"put",data:e})}},c2ff:function(e,t,n){"use strict";n.r(t);var r=n("1da1"),a=(n("96cf"),n("d3b7"),n("c4c8")),c={list:[],total:0},u={SET_LIST:function(e,t){e.list=t},SET_TOTAL:function(e,t){e.total=t}},o={setList:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,Object(a["b"])(t);case 4:return c=n.sent,r("SET_LIST",c.data.list),r("SET_TOTAL",c.data.total),n.abrupt("return",Promise.resolve());case 10:return n.prev=10,n.t0=n["catch"](1),n.abrupt("return",Promise.reject(n.t0));case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()}};t["default"]={namespaced:!0,state:c,mutations:u,actions:o}},c4c8:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n("b775");function a(e){return Object(r["a"])({url:"/product",method:"get",params:e})}function c(e){return Object(r["a"])({url:"/productDetail",method:"get",params:e})}function u(e){return Object(r["a"])({url:"/search",method:"get",params:e})}},c653:function(e,t,n){var r={"./cart.js":"499b","./product.js":"c2ff","./user.js":"0f9a"};function a(e){var t=c(e);return n(t)}function c(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id="c653"},cc33:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var r="access_token";function a(){return localStorage.getItem(r)}function c(e){localStorage.setItem(r,e)}function u(){localStorage.removeItem(r)}},e101:function(e,t){e.exports={title:"vue-h5-template",baseUrl:"https://test.xxx.com",baseApi:"https://test.xxx.com/api"}},f121:function(e,t,n){var r="production",a=n("7609")("./env."+r);e.exports=a},f1e0:function(e,t){e.exports={title:"mi",baseUrl:"http://101.132.127.139:80/",baseApi:"http://101.132.127.139:80/api"}}},[[0,"runtime","chunk-elementUI","chunk-libs"]]]);