(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43c87729"],{"3d87":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"wrap"},[a("div",{staticClass:"layout"},[a("div",{staticClass:"n-frame device-frame reg_frame",attrs:{id:"main_container"}},[t._m(0),t._m(1),a("div",{staticClass:"regbox"},[a("div",{staticClass:"step2 phone_step2"},[a("div",{staticClass:"xs_title_box"},[a("div",{staticClass:"content_title"},[t._v(" 我们已经发送一条验证短信至 "),a("span",{staticClass:"address-place ff6"},[t._v("+86 "+t._s(t.getPhone))])]),a("p",[t._v("请输入短信中的验证码")])]),a("div",{staticClass:"inputbg1 inputsend"},[a("label",{staticClass:"labelbox wap_resend_label err_label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"resendcode",attrs:{type:"text",placeholder:"请输入验证码",name:"tickt"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),a("span",{staticClass:"remain"},[a("a",{staticClass:"color333 send-status",class:{disabled:t.BtnDisabled},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.reckonTime(),t.restCode()}}},[t._v(t._s(t.BtnText))])])])]),t.flag?a("div",{staticClass:"err_tip"},[a("div",{staticClass:"dis_box"},[a("em",{staticClass:"icon_error"}),a("span",[t._v(t._s(t.err_message))])])]):t._e(),t._m(2),a("div",{staticClass:"fixed_bot mar_phone_dis2"},[a("input",{staticClass:"btn332 btn_reg_1 submit-step",attrs:{type:"submit",value:"下一步"},on:{click:t.goSetPwdPage}}),a("input",{staticClass:"btn332 btn_reg_2 change-view",attrs:{type:"button",value:"返回"},on:{click:function(e){return t.$router.go(-1)}}})])])])])])])]),a("Footer")],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"external_logo_area"},[a("a",{staticClass:"mi_logo",attrs:{href:"javascript:void(0)"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title-item t_c"},[a("h4",{staticClass:"title_big30"},[t._v("小米帐号安全验证")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sns_unavaliable"},[a("a",{attrs:{target:"_blank",href:"https://account.xiaomi.com/helpcenter/faq/zh_CN/02.faqs/05.sms-and-email-verification-code/faq-1"}},[t._v("收不到验证码?")])])}],i=a("1da1"),r=(a("96cf"),a("ac1f"),a("5319"),a("c24f")),c=a("2d11"),o={name:"restPasswordSms",data:function(){return{phone:this.$route.query.phone,waitTime:60,BtnDisabled:!1,flag:!1,code:this.$route.query.code}},computed:{getPhone:function(){var t=this.phone+"";return t.replace(t.substring(3,9),"*****")},BtnText:function(){return 60!==this.waitTime?"重新发送(".concat(this.waitTime,")"):"重新发送"}},methods:{goSetPwdPage:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r["b"])({mobile:t.phone,code:t.code}).then((function(e){e.data.is_register?t.$router.push({name:"setRestPassword",query:{phone:t.phone,code:t.code}}):(t.err_message=e.msg,t.flag=!0)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},restCode:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["h"])({mobile:t.phone}).then((function(e){t.code=e.data}));case 2:case"end":return e.stop()}}),e)})))()},reckonTime:function(){var t=this;this.BtnDisabled=!0;var e=setInterval((function(){t.waitTime--,0===t.waitTime&&(clearInterval(e),t.BtnDisabled=!1,t.waitTime=60)}),1e3)}},mounted:function(){var t=this;this.reckonTime(),window.addEventListener("load",(function(){var e=confirm("系统可能不会保存您所做的更改。");!0===e&&"/restPassword"!==t.$route.path&&(t.$router.go(-1),t.$router.replace("/restPassword"))}))},components:{Footer:c["a"]}},l=o,u=(a("bec7"),a("2877")),d=Object(u["a"])(l,s,n,!1,null,"4dea1802",null);e["default"]=d.exports},bec7:function(t,e,a){"use strict";var s=a("d50f"),n=a.n(s);n.a},d50f:function(t,e,a){}}]);