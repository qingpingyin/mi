(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3841b669"],{2524:function(e,t,a){"use strict";var n=a("ee81"),r=a.n(n);r.a},"4c16":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-detail"},[a("div",{staticClass:"user-card"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","before-upload":e.BeforeUpload,"http-request":e.UploadRequest,"show-file-list":!1,"on-change":e.onChangeFile}},[e.avatar?a("img",{staticClass:"avatar",attrs:{src:e.avatar}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._m(0),a("div",{staticClass:"nike-name"},[a("span",[e._v("昵称:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nike_name,expression:"nike_name"}],domProps:{value:e.nike_name},on:{input:function(t){t.target.composing||(e.nike_name=t.target.value)}}})]),a("div",{staticClass:"user-name"},[a("span",[e._v("用户名:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.real_name,expression:"real_name"}],domProps:{value:e.real_name},on:{input:function(t){t.target.composing||(e.real_name=t.target.value)}}})]),a("button",{on:{click:function(t){return e.save()}}},[e._v("保存")])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tip"},[a("p",[e._v("点击上传头像,只能上传png/jpg文件,且不超过2M")])])}],s=a("1da1"),i=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("96cf"),a("b775"));function o(e){return Object(i["a"])({url:"/avatarUpload",method:"post",header:"multipart/form-data",data:e})}var u=a("c24f"),c={name:"Account",data:function(){return{uid:this.$route.query.id,nike_name:"",real_name:"",avatar:""}},methods:{save:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["i"])({uid:e.uid,nike_name:e.nike_name,real_name:e.real_name}).then((function(){e.$store.dispatch("user/getUserInfo")}));case 2:case"end":return t.stop()}}),t)})))()},onChangeFile:function(e){this.avatar=URL.createObjectURL(e.raw)},BeforeUpload:function(e){var t="image/png"===e.type||"image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 PNG/JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},UploadRequest:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=new FormData,n.append("file",e.file),a.next=4,o(n).then((function(){t.$store.dispatch("user/getUserInfo")}));case 4:case"end":return a.stop()}}),a)})))()}},computed:{},components:{},beforeMount:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.nike_name=e.$store.getters.user.nike_name,e.real_name=e.$store.getters.user.real_name,e.avatar=e.$store.getters.user.avatar;case 3:case"end":return t.stop()}}),t)})))()}},l=c,m=(a("2524"),a("2877")),p=Object(m["a"])(l,n,r,!1,null,"73817748",null);t["default"]=p.exports},ee81:function(e,t,a){}}]);